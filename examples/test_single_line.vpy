def main():
    pass

def loop():
    asm("CLR VIA_shift_reg")
    asm("LDA #$CC")
    asm("STA VIA_cntl")
    asm("CLR VIA_port_a")
    asm("LDA #$82")
    asm("STA VIA_port_b")
    asm("NOP")
    asm("NOP")
    asm("NOP")
    asm("NOP")
    asm("NOP")
    asm("LDA #$83")
    asm("STA VIA_port_b")
    asm("LDA #100")
    asm("JSR $F2AB")
    asm("CLR VIA_port_a")
    asm("LDA #$CE")
    asm("STA VIA_cntl")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("CLR VIA_port_a")
    asm("LDA #$7F")
    asm("STA VIA_t1_cnt_lo")
    asm("CLR VIA_t1_cnt_hi")
    asm("W1:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W1")
    asm("LDA #20")
    asm("STA VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #20")
    asm("STA VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W2:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W2")
    asm("CLR VIA_shift_reg")
