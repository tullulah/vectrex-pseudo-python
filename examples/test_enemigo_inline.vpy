def main():
    pass

def loop():
    WAIT_RECAL()
    # Path 0: casco_principal (8 points, closed)
    asm("CLR VIA_shift_reg")
    asm("LDA #$CC")
    asm("STA VIA_cntl")
    asm("CLR VIA_port_a")
    asm("LDA #$82")
    asm("STA VIA_port_b")
    asm("NOP")
    asm("NOP")
    asm("NOP")
    asm("NOP")
    asm("NOP")
    asm("LDA #$83")
    asm("STA VIA_port_b")
    asm("LDA #100")
    asm("JSR $F2AB")
    asm("LDA #$FD")
    asm("STA VIA_port_a")
    asm("LDA #$CE")
    asm("STA VIA_cntl")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #$F8")
    asm("STA VIA_port_a")
    asm("LDA #$7F")
    asm("STA VIA_t1_cnt_lo")
    asm("CLR VIA_t1_cnt_hi")
    asm("W1:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W1")
    # Line 1: dy=-5, dx=2
    asm("LDA #$FB")
    asm("STA VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #2")
    asm("STA VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W2:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W2")
    asm("CLR VIA_shift_reg")
    # Line 2: dy=0, dx=12
    asm("CLR VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #12")
    asm("STA VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W3:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W3")
    asm("CLR VIA_shift_reg")
    # Line 3: dy=5, dx=2
    asm("LDA #5")
    asm("STA VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #2")
    asm("STA VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W4:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W4")
    asm("CLR VIA_shift_reg")
    # Line 4: dy=8, dx=0
    asm("LDA #8")
    asm("STA VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("CLR VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W5:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W5")
    asm("CLR VIA_shift_reg")
    # Line 5: dy=3, dx=-2
    asm("LDA #3")
    asm("STA VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #$FE")
    asm("STA VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W6:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W6")
    asm("CLR VIA_shift_reg")
    # Line 6: dy=0, dx=-12
    asm("CLR VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #$F4")
    asm("STA VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W7:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W7")
    asm("CLR VIA_shift_reg")
    # Line 7: dy=-3, dx=-2
    asm("LDA #$FD")
    asm("STA VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("LDA #$FE")
    asm("STA VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W8:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W8")
    asm("CLR VIA_shift_reg")
    # Closing line: dy=-8, dx=0
    asm("LDA #$F8")
    asm("STA VIA_port_a")
    asm("CLR VIA_port_b")
    asm("LDA #1")
    asm("STA VIA_port_b")
    asm("CLR VIA_port_a")
    asm("CLR VIA_t1_cnt_hi")
    asm("LDA #$FF")
    asm("STA VIA_shift_reg")
    asm("W9:")
    asm("LDA VIA_int_flags")
    asm("ANDA #$40")
    asm("BEQ W9")
    asm("CLR VIA_shift_reg")
